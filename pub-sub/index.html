<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script src="../compile/pub-sub/index.js"></script>
<script>
   const pub2 = new PubCenter();

   pub2.$listen('test', (name) => {
     console.log(name, 'test1');
   })
   pub2.$listen('test', {
     id: '123',
    //  once: true,
     handler: (name) => new Promise(resolve => {
        setTimeout(() => {
            console.timeEnd('test-time')
            resolve(name);
            console.log(pub2)
        }, 1000)
     })
   })
   setTimeout(() => {
     console.time('test-time') 
     pub2.$scope('test', '123', '王二')
   }, 1000)
</script>
</html>